
\chapter{Differentiation}
%================================================
%::::::::::::::::::::::::::::::::::::::::::::::::


\section{Differentiable Mapping}
%================================================
%------------------------------------------------


\begin{definition}
	\label{def: differentiable}
	Let $f: \mathbb R^m \to \mathbb R^n$, and let $\mathbf p \in \mathbb R^m$.
	
%	Then, $f$ is said to be \textit{differentiable} at $\mathbf p$,  iff there exists a linear map $\phi: \mathbb R^m \to \mathbb R^n$ and an open subset $U \subseteq \mathbb R^m$, such that for any $\mathbf h \in \mathbb R^m \setminus \{\mathbf 0_{\mathbb R^m}\}$ with $\mathbf p + \mathbf h \in U$,
%	$$
%	f(\mathbf p + \mathbf h) = f(\mathbf p) + \phi(\mathbf h) + o(\phi(\mathbf h)).
%	$$

	$f$ is \textit{differentiable} at $\mathbf p$ iff there exists a unique linear map $\phi: \mathbb R^m \to \mathbb R^n$, such that for any $\mathbf t \in \mathbb R^m$,
	$$
	\lim_{\mathbf t \to \mathbf 0_{\mathbb R^n}} \frac{f(\mathbf p + \mathbf t) - f(\mathbf p) - \phi(\mathbf t)}{\| \mathbf t \|_{\mathbb R^m}} = \mathbf 0_{\mathbb R^n}
	$$
\end{definition}


\begin{note}
	\label{note: differentiable: uniqueness of phi}
	Rigorously, the uniqueness of $\phi$ is deduced by the reset of the definition.
	
	There exists an $\alpha: \mathbb R^m \to \mathbb R^n$ with $\displaystyle \lim_{\mathbf t \to \mathbf 0_{\mathbb R^m}} \alpha(\mathbf t) = \mathbf 0_{\mathbb R^n}$, such that there exists an open subset $U \subseteq \mathbb R^m$ with $\mathbf p \in U$, such that for those $\mathbf t \in \mathbb R^n$ with $\mathbf p + \mathbf t \in U$,
		$$
		\frac{f(\mathbf p + \mathbf t) - f(\mathbf p) - \phi(\mathbf t)}{\| \mathbf t \|_{\mathbb R^m}} = \alpha(\mathbf t).
		$$
		
	Assume Definition \ref{def: differentiable} holds for a linear mapping $\lambda$ also, then, similarly, there exists a $\beta: \mathbb R^m \to \mathbb R^n$ with $\displaystyle \lim_{\mathbf t \to \mathbf 0_{\mathbb R^m}} \beta(\mathbf t) = \mathbf 0_{\mathbb R^n}$, such that there exists an open subset $U' \subseteq \mathbb R^m$ with $\mathbf p \in U'$, such that for those $\mathbf t \in \mathbb R^n$ with $\mathbf p + \mathbf t \in U'$,
	$$
	\frac{f(\mathbf p + \mathbf t) - f(\mathbf p) - \lambda(\mathbf t)}{\| \mathbf t \|_{\mathbb R^m}} = \beta(\mathbf t).
	$$
	
	Let $\gamma = \phi - \lambda$. As $\phi$ and $-\lambda$ are both linear, then
	$$
	\begin{aligned}
		\frac{\gamma(\mathbf t)}{\| \mathbf t \|_{\mathbb R^n}} = \alpha(\mathbf t) - \beta(\mathbf t) &\iff \lim_{\mathbf t \to \mathbf 0_{\mathbb R^m}} \gamma(\mathbf{\hat t}) = \lim_{\mathbf t \to \mathbf 0_{\mathbb R^m}} (\alpha(\mathbf t) - \beta(\mathbf t)) \\
		&\iff \gamma(\mathbf{\hat t}) = \mathbf 0_{\mathbb R^n}.
	\end{aligned}
	$$
	
	As $\mathbf t$ is arbitrarily given in $U \cap U'$, and $U \cap U'$ is open in $\mathbb R^m$, the set
	$$
	\left\{ \mathbf{\hat t} = \frac{\mathbf t}{\| \mathbf t \|} : \mathbf t \in U \cap U' - \mathbf p \right\}
	$$
	gives the all possible directions in $\mathbb R^m$. And as $\gamma(s\mathbf{\hat t}) = \mathbf 0_{\mathbb R^n}$, for all $s \in \mathbb R$, $\gamma(\mathbf t) = \mathbf 0_{\mathbb R^n}$ constantly. This implies $\phi = \lambda$.
\end{note}


\begin{lemma}
	With the condition in Definition \ref{def: differentiable}, if $f$ is differentiable at $\mathbf p$, then $f$ is continuous at $\mathbf p$.
	
	\begin{proof}
		As $f$ is differentiable at $\mathbf p$, by Definition \ref{def: differentiable},
		$$
		\lim_{\mathbf t \to \mathbf 0_{\mathbb R^n}} \frac{f(\mathbf p + \mathbf t) - f(\mathbf p) - \phi(\mathbf t)}{\| \mathbf t \|_{\mathbb R^m}} = \mathbf 0_{\mathbb R^n}
		$$
		for a unique $\phi: \mathbb R^m \to \mathbb R^n$ (Note \ref{note: differentiable: uniqueness of phi}). Then there exists an $\alpha: \mathbb R^m \to \mathbb R^n$ with $\displaystyle \lim_{\mathbf t \to \mathbf 0_{\mathbb R^m}}\alpha(\mathbf t) = \mathbf 0_{\mathbb R^n}$ such that there exists an open subset $U \subseteq \mathbb R^m$ with $\mathbf p \in U$ such that for any $\mathbf t \in \mathbb R^m$ with $\mathbf p + \mathbf t \in U$,
		$$
		f(\mathbf p + \mathbf t) - \phi(\mathbf t) = \alpha(\mathbf t)\| \mathbf t \|_{\mathbb R^m} + f(\mathbf p).
		$$
		
		Then, we have
		$$
		\begin{aligned}
			& \ \lim_{\mathbf t \to \mathbf 0_{\mathbb R^m}} (f(\mathbf p + \mathbf t) - \phi(\mathbf t)) = \lim_{\mathbf t \to \mathbf 0_{\mathbb R^m}}( \alpha(\mathbf t)\| \mathbf t \|_{\mathbb R^m} + f(\mathbf p)) \\
			\iff & \ \lim_{\mathbf t \to \mathbf 0_{\mathbb R^m}} f(\mathbf p + \mathbf t) = f(\mathbf p).
		\end{aligned}
		$$
		
		This, implies $f$ is continuous at $\mathbf p$.
	\end{proof}
\end{lemma}


\begin{lemma}
	With the condition in Definition \ref{def: differentiable}, $f$ is differentiable at $\mathbf p$, iff for any $g: \mathbb R \to \mathbb R^m$ with $g$ differentiable at $0$ and $g(0) = \mathbf p$, $f \circ g$ is differentiable at $0$.
	
	\begin{proof}

	\end{proof}
\end{lemma}


%------------------------------------------------
%================================================



\section{Directional Derivatives}
%================================================
%------------------------------------------------


\begin{definition}
	\label{def: directional derivatives}
	Let $f: \mathbb R^m \to \mathbb R^n$, let $\mathbf u \in \mathbb R^m \setminus \{\mathbf 0_{\mathbb R^m}\}$, and let $\mathbf p \in \mathbb R^m$.
	
	The \textit{directional derivative} of $f$ along $\mathbf u$ at $\mathbf p$ is defined as
	$$
	\nabla_{\mathbf u} f(\mathbf p) := \lim_{t \to 0} \frac{f(\mathbf p + t\mathbf u) - f(\mathbf p)}{t},
	$$
	if the limit exists in $\mathbb R^n$.
\end{definition}


\begin{lemma}
	\label{lm: direction derivative exists implies relative continuous}
	With the conditions in Definition \ref{def: directional derivatives}, if $\nabla_{\mathbf u}f(\mathbf p)$ exists at $\mathbf p$, then there exists open subset $U \subseteq \mathbb R^m$ with $\mathbf p \in U$ such that $f$ is relative continuous on $U \cap \{\mathbf p + t \mathbf u : t\in \mathbb R\}$ .
	
	\begin{proof}	
		Let $U$ be an open subset of $\mathbb R^m$.
	
		Let $g: \mathbb R \to \mathbb R^m$ be defined as
		$$
		g(t) = \mathbf p + t \mathbf u.
		$$
	
		Then $f$ is relative continuous on $U \cap \{\mathbf p + t\mathbf u\}$ iff $f\restriction_{g[\mathbb R]}$ is continuous on $U \cap g[\mathbb R]$.
		
		Let $h = f \circ g$, then
		$$
		\nabla_{\mathbf u} f(\mathbf p) = \lim_{t \to 0} \frac{h(t) - h(0)}{t} = \mathbf v \in \mathbb R^n.
		$$
		
		Then, there exists an $\alpha: \mathbb R \to \mathbb R^n$ with $\displaystyle \lim_{t \to 0}\alpha(t) = \mathbf 0_{\mathbb R^n}$, such that
		$$
		h(t) = t\mathbf v +  t\alpha(t) + h(0).
		$$
		
		Then we have
		$$
		\begin{aligned}
			& \ \lim_{t \to 0}h(t) = \lim_{t \to 0} \big( t \mathbf v + t\alpha(t) + h(0) \big) \\
			\iff & \ \lim_{t \to 0}h(t) = h(0).
		\end{aligned}
		$$
		Thus, $h$ is continuous at $0$.
		
		As composition of mappings is associative, we have
		$$
		\begin{aligned}
			h = f\circ g &\iff h \circ g^{-1} = f \circ g \circ g^{-1} \\
			&\iff h \circ g^{-1} = f \circ (g \circ g^{-1})
		\end{aligned}
		$$
		
		As $g$ is bijective, $g \circ g^{-1}$ is an identity map on $g[\mathbb R]$. Thus, we have
		$$
		h \circ g^{-1} = f \restriction_{g[\mathbb R]}.
		$$
		
		As $h$ and $g^{-1}$ are continuous, so is $f\restriction_{g[\mathbb R]}$. Thus $f$ is relative continuous on $U \cap \{\mathbf p + t \mathbf u: t \in \mathbb R\}$.
	\end{proof}
\end{lemma}


\begin{lemma}
	With the conditions in Definition \ref{def: directional derivatives}, let $s \in \mathbb R \setminus \{0\}$, then
	$$
	\nabla_{s\mathbf u}f(\mathbf p) = s \nabla_{\mathbf u} f(\mathbf p)
	$$
	if $\nabla_{\mathbf u}f(\mathbf p)$ exists in $\mathbb R^n$.
	
	\begin{proof}	
		By Definition \ref{def: directional derivatives},
		$$
		\nabla_{s\mathbf u} f(\mathbf p) = s\lim_{ts \to 0} \frac{f(\mathbf p + ts\mathbf u) - f(\mathbf p)}{ts} = s \nabla f(\mathbf p).
		$$
	\end{proof}
\end{lemma}


%------------------------------------------------
%================================================


\section{s}
%================================================
%------------------------------------------------


%------------------------------------------------
%================================================



%::::::::::::::::::::::::::::::::::::::::::::::::
%================================================










































%